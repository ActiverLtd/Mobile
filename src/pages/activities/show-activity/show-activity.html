<ion-content class="show-activity">
  <div class="top">
    <ion-row>
      <ion-col>
        <h1>{{activity.sport | translate | uppercase}}</h1>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col class="no-padding">
        <h4>{{activity.timestamp | date:'d. MMMM' | uppercase}}, klo {{activity.timestamp | date:'HH:mm'}}</h4>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col class="no-padding">
        <h2>{{activity.location.name}}, {{activity.location.address.city}}</h2>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col class="no-padding">
        <h5>
          {{activity.location.address.street}}, {{activity.location.address.zip}} {{activity.location.address.city}}
        </h5>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <hr/>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col><span class="participant-count">{{participants?.length}}</span> / {{activity.participants_max}}
        osallistujaa
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <div *ngFor="let participant of participants" class="participant">
          <img [src]="participant.image" class="participant-image"/>
          <span class="participant-name">{{participant.name | name:0}}</span>
        </div>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="isUserParticipating()">
      <ion-col>
        <span *ngIf="!activity.comments">Ei kommentteja..</span>
        <ion-row *ngFor="let comment of activity.comments | values" class="comment">
          <span class="comment-author">{{comment.user.name}}: </span>
          <span class="comment-text">{{comment.text}}</span>
        </ion-row>

        <ion-row>
          <ion-input type="text" #comment placeholder="Kirjoita muille..."></ion-input>
          <button ion-button (click)="addComment(comment.value); comment.value = '';" [disabled]="!comment.value">
            L채het채
          </button>
        </ion-row>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="!isUserParticipating()">
      <ion-col>
        <ion-row>
          <ion-col>
            <ion-icon name="star" color="star"></ion-icon>
            <ion-icon name="star" color="star"></ion-icon>
            <ion-icon name="star" color="star"></ion-icon>
            <ion-icon name="star" color="star"></ion-icon>
            <ion-icon name="star" color="star"></ion-icon>
            x {{participantsByLevel(5)}}
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-icon name="star" color="star"></ion-icon>
            <ion-icon name="star" color="star"></ion-icon>
            <ion-icon name="star" color="star"></ion-icon>
            <ion-icon name="star" color="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
            x {{participantsByLevel(4)}}
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-icon name="star" color="star"></ion-icon>
            <ion-icon name="star" color="star"></ion-icon>
            <ion-icon name="star" color="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
            x {{participantsByLevel(3)}}
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-icon name="star" color="star"></ion-icon>
            <ion-icon name="star" color="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
            x {{participantsByLevel(2)}}
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-icon name="star" color="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
            <ion-icon name="star"></ion-icon>
            x {{participantsByLevel(1)}}
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>Lue lis채채</ion-col>
        </ion-row>
      </ion-col>
    </ion-row>
  </div>
  <div class="bottom" *ngIf="!isUserParticipating()">
    <div class="round-button" (click)="join();">
      <span>{{'join' | translate}}<br/>>></span>
    </div>
  </div>
  <div class="top-left">
    <div class="round-button small close" (click)="close();">
      <span>x</span>
    </div>
  </div>
</ion-content>
